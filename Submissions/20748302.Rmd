---
title: "20748302"
output: github_document
---

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, fig.height = 3.5, fig.width = 6, warning = F)
library(pacman)
pacman::p_load(tidyverse, huxtable, fixest, urca)
```

### Task 1

Completed. 

### Task 2

I made my "Task" headings subheadings for my main heading which is my student number (project title).

Q: is the default setting on the code chunks that they will be inserted into the document and that they will be evaluated, and if you don't want them you should remove them using the `include=FALSE`,  `echo=FALSE` and `eval=FALSE`, or do you set the defaults in the first line of code with the `knitr` command?

Q: Is the name my_code_chunk a reference I'll be able to use later on in my file to make code simpler or is it just a naming thing?

### Task 3

```{r my_code_chunk}
ts_data <- read.csv(file = "data/ts_data.csv", header = TRUE) %>% 
  mutate(Year = as.Date(Year, format= "%Y-%m-%d")) %>% 
  dplyr::filter(Year >= as.Date("1985-01-01"), Year <= as.Date("2010-01-01"), Country == "France")
  
view(ts_data)

ts_data <- ts_data %>% arrange(Year)

test_vector <- ts_data %>% pull(ln_consump_pc)

my_ADF <- ur.df(
  y = test_vector,
  type = "trend",
  lags = 5,
  selectlags = "AIC"
)

summary(my_ADF)
```



### Task 4

```{r}
cs_data <- read.csv(file = "data/cs_data.csv", header= TRUE)
view(cs_data)

cs_data <- cs_data %>% mutate(treat = factor(treat, levels = c(0,1)))

model1 <- feols(wage ~ x1, data = cs_data)

model2 <- feols(wage ~ x1 + x2, data = cs_data)

model3 <- feols(wage ~ x1 + x2 + i(treat), data = cs_data)

huxreg(model1, model2, model3)
```


For a prettier table: 
```{r}
huxreg("1" = model1, "2" = model2, "3" = model3,
statistics = c("N" = "nobs", "R-squared"="r.squared")
) %>% 
  set_align(10:11, 2:4, value = "center") %>% 
  set_caption("Cross section regressions")
```


